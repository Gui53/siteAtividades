<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>
    <div>
        <div class="m-3">
            <label for="nome">Informe Nome:</label>
            <input type="text" id="nome" placeholder="Astolfo Silva" class="form-control" required>
        </div>
        <div class="m-3">
            <label for="email">Informe Email:</label>
            <input type="text" id="email" placeholder="MyExample123@gmail.com" class="form-control" equired>
        </div>
        <div class="m-3">
            <label for="fone">Número de Telefone:</label>
            <input type="text" id="fone" placeholder="(98) 9826312" class="form-control" required>
        </div>
        <div class="m-3">
            <button id="gravar" class="btn btn-primary">Gravar</button>
            <button id="editar" onclick="salvarEditar()" class="btn btn-primary">Editar</button>
        </div>
        <button onclick="carregar()">Carregar</button>

        <table class="table">
            <thead>
                <th2>
                    <td>Nome</td>
                    <td>Email</td>
                    <td>Telefone</td>
                    <td>Ações</td>
                </th2>
            </thead>
            <tbody>
                <!--Listar os dados com javascript-->
            </tbody>
        </table>
    </div>
</body>
    <script>
        var contatoEditar = {}

        var contatos = [
            {nome: 'Gui', email:'gui@gmail.com', fone:'(47)9907-0987'},
            {nome:'jose',email:'jose@gmail.com', fone:'(47)9907-5687'},
            {nome:'antonio',email:'antonio@gmail.com',fone:'(47)9907-8987'}
        ]
        function carregar(){
            let size = contatos.length
            let linhas=''
            for(let i=0; i < size; i++){
                linhas += `<tr>
                    <td>${contatos[i].nome}</td>
                    <td>${contatos[i].email}</td>
                    <td>${contatos[i].fone}</td>
                    <td>
                        <button onclick=editar('${i}')>Editar</button>
                        <button onclick=excluir('${i}')>Excluir</button>
                    </td>
                </tr>`
            }
            document.getElementsByTagName('tbody')[0].innerHTML = linhas
        }
        function salvar(){

        }
        function editar(item){
            contatoEditar = contatos[item]
            document.getElementById('nome').value = contatoEditar.nome
            document.getElementById('email').value = contatoEditar.email
            document.getElementById('fone').value = contatoEditar.fone

            document.getElementById('gravar').setAttribute('disabled','true')

        }
        function excluir(item){
            contatos.splice(item)
            carregar()
        }
        function salvarEditar(){
            //atualizar o objeto com os novos dados
            let inputNome = document.getElementById('nome')
            let inputEmail = document.getElementById('email')
            let inputFone = document.getElementById('fone')

            contatoEditar.nome = inputNome.value
            contatoEditar.email = inputEmail.value
            contatoEditar.fone = inputFone.value
            
            carregar()  

            //bloquear botão editar
            document.getElementById('editar').setAttribute('disabled','true')
            //desbloquear botão gravar
            document.getElementById('gravar').removeAttribute('disabled')
         }
          // let indice = frutas.indexOf(novaFruta.value)
            // //alert(indice)
            // if( indice >= 0){
            //    alert('Esta fruta já está na cesta')
            //    novaFruta.focus()
            //    return
            // }   
    </script>
</html>